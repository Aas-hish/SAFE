{"ast":null,"code":"var _jsxFileName = \"/home/aashish/Desktop/EZWINDS/src/pages/ScoreDashboard/ScoreDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nimport { calculateScoresFromState, calculateCompletionFromState, countNonZeroWeightageMetrics, getPerformanceCategory, getCriticalMetrics, generateInsights } from '../../scoring';\nimport './ScoreDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreDashboard = ({\n  user\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    collectionName,\n    assessmentId\n  } = useParams();\n  const [appState, setAppState] = useState(null);\n  const [meta, setMeta] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const chartRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  useEffect(() => {\n    const fetchAssessment = async () => {\n      try {\n        if (!user || !user.uid) return;\n        const assessmentRef = doc(db, 'users', user.uid, collectionName, assessmentId);\n        const snap = await getDoc(assessmentRef);\n        if (!snap.exists()) {\n          setLoading(false);\n          return;\n        }\n        const data = snap.data();\n        setMeta({\n          respondentName: data.respondentName,\n          organisation: data.organisation,\n          city: data.city,\n          borough: data.borough,\n          ward: data.ward,\n          createdAt: data.createdAt\n        });\n        setAppState(data.ratings && data.priorities && data.weights ? {\n          ratings: data.ratings,\n          priorities: data.priorities,\n          weights: data.weights\n        } : null);\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        console.error('Error loading assessment for score dashboard:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAssessment();\n  }, [user, collectionName, assessmentId]);\n  const computed = useMemo(() => {\n    if (!appState) {\n      return null;\n    }\n    const scores = calculateScoresFromState(appState);\n    const completionPercent = calculateCompletionFromState(appState);\n    const nonZeroMetrics = countNonZeroWeightageMetrics(appState);\n    const performanceCategory = getPerformanceCategory(scores.overall);\n    const criticalMetrics = getCriticalMetrics(appState);\n    const insights = generateInsights(scores);\n    return {\n      scores,\n      completionPercent,\n      nonZeroMetrics,\n      performanceCategory,\n      criticalMetrics,\n      insights\n    };\n  }, [appState]);\n  useEffect(() => {\n    if (!computed || !chartRef.current) return;\n    const {\n      scores\n    } = computed;\n    const canvas = chartRef.current;\n    const ctx = canvas.getContext('2d');\n    const {\n      Chart\n    } = window;\n    if (!Chart) return;\n    if (chartInstanceRef.current) {\n      chartInstanceRef.current.destroy();\n    }\n    const labels = Object.keys(scores.dimensions);\n    const data = Object.values(scores.dimensions).map(d => d.score);\n    chartInstanceRef.current = new Chart(ctx, {\n      type: 'bar',\n      data: {\n        labels: labels.map(l => l.length > 35 ? `${l.substring(0, 35)}...` : l),\n        datasets: [{\n          label: 'Dimension Score',\n          data,\n          backgroundColor: 'rgba(107, 70, 193, 0.8)',\n          borderColor: 'rgba(107, 70, 193, 1)',\n          borderWidth: 2\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          y: {\n            beginAtZero: true,\n            max: 5,\n            ticks: {\n              callback: value => `${value}/5`\n            }\n          }\n        },\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: 'Performance Across All Dimensions',\n            font: {\n              size: 16\n            }\n          }\n        }\n      }\n    });\n  }, [computed]);\n  const formatDate = date => {\n    if (!date) return 'N/A';\n    try {\n      const d = date.toDate ? date.toDate() : new Date(date);\n      if (Number.isNaN(d.getTime())) return 'N/A';\n      return d.toLocaleString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (e) {\n      return 'N/A';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-dashboard-loading\",\n      children: \"Loading score dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n  }\n  if (!appState || !computed) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-dashboard-loading\",\n      children: \"No assessment results found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this);\n  }\n  const {\n    scores,\n    completionPercent,\n    nonZeroMetrics,\n    performanceCategory,\n    criticalMetrics,\n    insights\n  } = computed;\n  const dimScores = Object.entries(scores.dimensions).map(([name, data]) => ({\n    name,\n    score: data.score\n  })).sort((a, b) => b.score - a.score);\n  const top3Dims = dimScores.slice(0, 3);\n  const bottom3Dims = dimScores.slice(-3).reverse();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"score-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"48\",\n              height: \"48\",\n              viewBox: \"0 0 48 48\",\n              fill: \"none\",\n              children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"8\",\n                y: \"6\",\n                width: \"32\",\n                height: \"36\",\n                rx: \"2\",\n                fill: \"#3b82f6\",\n                stroke: \"#2563eb\",\n                strokeWidth: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"14\",\n                y1: \"14\",\n                x2: \"34\",\n                y2: \"14\",\n                stroke: \"#ffffff\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"14\",\n                y1: \"20\",\n                x2: \"34\",\n                y2: \"20\",\n                stroke: \"#ffffff\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"14\",\n                y1: \"26\",\n                x2: \"28\",\n                y2: \"26\",\n                stroke: \"#ffffff\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-title\",\n              children: \"SAFE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-subtitle\",\n              children: \"Smart Age-Friendliness Evaluation Platform\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-lab\",\n              children: \"Future Cities and Assistive Technology Lab\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Respondent:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: (meta === null || meta === void 0 ? void 0 : meta.respondentName) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Organization:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: (meta === null || meta === void 0 ? void 0 : meta.organisation) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: [meta === null || meta === void 0 ? void 0 : meta.city, meta === null || meta === void 0 ? void 0 : meta.borough, meta === null || meta === void 0 ? void 0 : meta.ward].filter(Boolean).join(', ') || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item created\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Created:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: formatDate(meta === null || meta === void 0 ? void 0 : meta.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"assessment-dashboard-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-6 mb-5 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-purple-600 text-3xl font-bold mb-5\",\n            children: \"\\uD83D\\uDCCA SAFE Assessment Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Assessment Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), \" \", formatDate(meta === null || meta === void 0 ? void 0 : meta.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90 mb-2\",\n              children: \"Overall Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-5xl font-bold mb-2\",\n              children: [scores.overall.toFixed(2), \"/5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90 mb-2\",\n              children: [(scores.overall / 5 * 100).toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `performance-badge ${performanceCategory.class} inline-block px-4 py-2 rounded-full text-sm font-semibold`,\n              children: performanceCategory.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90 mb-2\",\n              children: \"Metrics Assessed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-5xl font-bold mb-2\",\n              children: nonZeroMetrics\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90\",\n              children: \"with non-zero weightage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90 mb-2\",\n              children: \"Critical Issues\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-5xl font-bold mb-2\",\n              children: criticalMetrics.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90\",\n              children: \"A-priority metrics need attention\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90 mb-2\",\n              children: \"Completion Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-5xl font-bold mb-2\",\n              children: [completionPercent, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg opacity-90\",\n              children: \"Assessment progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-6 mb-5 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-5\",\n            children: \"\\uD83C\\uDFC6 Top Performing Dimensions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), top3Dims.map((dim, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-lg\",\n              children: [i + 1, \". \", dim.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-5 bg-gray-200 rounded-full overflow-hidden mt-2 shadow-inner\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-fill h-full flex items-center justify-center text-white text-sm\",\n                style: {\n                  width: `${dim.score / 5 * 100}%`\n                },\n                children: [dim.score.toFixed(2), \" / 5\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this)]\n          }, dim.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-6 mb-5 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-5\",\n            children: \"\\u26A0\\uFE0F Areas Needing Improvement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), bottom3Dims.map((dim, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-lg\",\n              children: [i + 1, \". \", dim.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-5 bg-gray-200 rounded-full overflow-hidden mt-2 shadow-inner\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full flex items-center justify-center text-white text-sm bg-gradient-to-r from-red-400 to-red-600\",\n                style: {\n                  width: `${dim.score / 5 * 100}%`\n                },\n                children: [dim.score.toFixed(2), \" / 5\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this)]\n          }, dim.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-6 mb-5 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-5\",\n            children: \"\\uD83D\\uDD34 Critical A-Priority Metrics (Bottom 10%)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-5 text-lg\",\n            children: \"These essential metrics require immediate attention:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), criticalMetrics.slice(0, 10).map(metric => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-50 to-transparent border-l-4 border-teal-400 p-5 mb-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-purple-600 font-semibold text-lg mb-2\",\n              children: metric.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Current Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this), \" \", metric.score, \"/5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"performance-badge badge-critical inline-block px-3 py-1 rounded-full text-sm font-semibold\",\n                children: \"Critical\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, metric.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-6 mb-5 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-5\",\n            children: \"\\uD83D\\uDCC8 Dimension Breakdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: chartRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl p-6 mb-5 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-5\",\n            children: \"\\uD83D\\uDCA1 Key Insights\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), insights.map(insight => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-50 to-transparent border-l-4 border-teal-400 p-5 mb-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-purple-600 font-semibold text-lg mb-2\",\n              children: insight.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700\",\n              children: insight.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)]\n          }, insight.title, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"assessment-dashboard-topbar\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-back-info\",\n            onClick: () => navigate('/'),\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(ScoreDashboard, \"53UVHtiKj+N1Biuq5YmZZKTEOwM=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = ScoreDashboard;\nexport default ScoreDashboard;\nvar _c;\n$RefreshReg$(_c, \"ScoreDashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useNavigate","useParams","doc","getDoc","db","calculateScoresFromState","calculateCompletionFromState","countNonZeroWeightageMetrics","getPerformanceCategory","getCriticalMetrics","generateInsights","jsxDEV","_jsxDEV","ScoreDashboard","user","_s","navigate","collectionName","assessmentId","appState","setAppState","meta","setMeta","loading","setLoading","chartRef","chartInstanceRef","fetchAssessment","uid","assessmentRef","snap","exists","data","respondentName","organisation","city","borough","ward","createdAt","ratings","priorities","weights","err","console","error","computed","scores","completionPercent","nonZeroMetrics","performanceCategory","overall","criticalMetrics","insights","current","canvas","ctx","getContext","Chart","window","destroy","labels","Object","keys","dimensions","values","map","d","score","type","l","length","substring","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","scales","y","beginAtZero","max","ticks","callback","value","plugins","legend","display","title","text","font","size","formatDate","date","toDate","Date","Number","isNaN","getTime","toLocaleString","month","day","year","hour","minute","e","className","children","fileName","_jsxFileName","lineNumber","columnNumber","dimScores","entries","name","sort","a","b","top3Dims","slice","bottom3Dims","reverse","width","height","viewBox","fill","x","rx","stroke","strokeWidth","x1","y1","x2","y2","strokeLinecap","filter","Boolean","join","toFixed","class","dim","i","style","metric","key","ref","insight","description","onClick","_c","$RefreshReg$"],"sources":["/home/aashish/Desktop/EZWINDS/src/pages/ScoreDashboard/ScoreDashboard.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nimport {\n  calculateScoresFromState,\n  calculateCompletionFromState,\n  countNonZeroWeightageMetrics,\n  getPerformanceCategory,\n  getCriticalMetrics,\n  generateInsights,\n} from '../../scoring';\nimport './ScoreDashboard.css';\n\nconst ScoreDashboard = ({ user }) => {\n  const navigate = useNavigate();\n  const { collectionName, assessmentId } = useParams();\n  const [appState, setAppState] = useState(null);\n  const [meta, setMeta] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const chartRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n\n  useEffect(() => {\n    const fetchAssessment = async () => {\n      try {\n        if (!user || !user.uid) return;\n        const assessmentRef = doc(\n          db,\n          'users',\n          user.uid,\n          collectionName,\n          assessmentId\n        );\n        const snap = await getDoc(assessmentRef);\n        if (!snap.exists()) {\n          setLoading(false);\n          return;\n        }\n        const data = snap.data();\n        setMeta({\n          respondentName: data.respondentName,\n          organisation: data.organisation,\n          city: data.city,\n          borough: data.borough,\n          ward: data.ward,\n          createdAt: data.createdAt,\n        });\n        setAppState(\n          data.ratings && data.priorities && data.weights\n            ? {\n                ratings: data.ratings,\n                priorities: data.priorities,\n                weights: data.weights,\n              }\n            : null\n        );\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        console.error('Error loading assessment for score dashboard:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAssessment();\n  }, [user, collectionName, assessmentId]);\n\n  const computed = useMemo(() => {\n    if (!appState) {\n      return null;\n    }\n    const scores = calculateScoresFromState(appState);\n    const completionPercent = calculateCompletionFromState(appState);\n    const nonZeroMetrics = countNonZeroWeightageMetrics(appState);\n    const performanceCategory = getPerformanceCategory(scores.overall);\n    const criticalMetrics = getCriticalMetrics(appState);\n    const insights = generateInsights(scores);\n    return {\n      scores,\n      completionPercent,\n      nonZeroMetrics,\n      performanceCategory,\n      criticalMetrics,\n      insights,\n    };\n  }, [appState]);\n\n  useEffect(() => {\n    if (!computed || !chartRef.current) return;\n    const { scores } = computed;\n    const canvas = chartRef.current;\n    const ctx = canvas.getContext('2d');\n    const { Chart } = window;\n    if (!Chart) return;\n\n    if (chartInstanceRef.current) {\n      chartInstanceRef.current.destroy();\n    }\n\n    const labels = Object.keys(scores.dimensions);\n    const data = Object.values(scores.dimensions).map((d) => d.score);\n\n    chartInstanceRef.current = new Chart(ctx, {\n      type: 'bar',\n      data: {\n        labels: labels.map((l) =>\n          l.length > 35 ? `${l.substring(0, 35)}...` : l\n        ),\n        datasets: [\n          {\n            label: 'Dimension Score',\n            data,\n            backgroundColor: 'rgba(107, 70, 193, 0.8)',\n            borderColor: 'rgba(107, 70, 193, 1)',\n            borderWidth: 2,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          y: {\n            beginAtZero: true,\n            max: 5,\n            ticks: {\n              callback: (value) => `${value}/5`,\n            },\n          },\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          title: {\n            display: true,\n            text: 'Performance Across All Dimensions',\n            font: {\n              size: 16,\n            },\n          },\n        },\n      },\n    });\n  }, [computed]);\n\n  const formatDate = (date) => {\n    if (!date) return 'N/A';\n    try {\n      const d = date.toDate ? date.toDate() : new Date(date);\n      if (Number.isNaN(d.getTime())) return 'N/A';\n      return d.toLocaleString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n      });\n    } catch (e) {\n      return 'N/A';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"score-dashboard-loading\">\n        Loading score dashboard...\n      </div>\n    );\n  }\n\n  if (!appState || !computed) {\n    return (\n      <div className=\"score-dashboard-loading\">\n        No assessment results found.\n      </div>\n    );\n  }\n\n  const {\n    scores,\n    completionPercent,\n    nonZeroMetrics,\n    performanceCategory,\n    criticalMetrics,\n    insights,\n  } = computed;\n\n  const dimScores = Object.entries(scores.dimensions)\n    .map(([name, data]) => ({\n      name,\n      score: data.score,\n    }))\n    .sort((a, b) => b.score - a.score);\n\n  const top3Dims = dimScores.slice(0, 3);\n  const bottom3Dims = dimScores.slice(-3).reverse();\n\n  return (\n    <div className=\"score-dashboard\">\n      <div className=\"dashboard-header\">\n        <div className=\"header-left\">\n          <div className=\"logo-container\">\n            <div className=\"logo-icon\">\n              <svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\">\n                <rect\n                  x=\"8\"\n                  y=\"6\"\n                  width=\"32\"\n                  height=\"36\"\n                  rx=\"2\"\n                  fill=\"#3b82f6\"\n                  stroke=\"#2563eb\"\n                  strokeWidth=\"2\"\n                />\n                <line\n                  x1=\"14\"\n                  y1=\"14\"\n                  x2=\"34\"\n                  y2=\"14\"\n                  stroke=\"#ffffff\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                />\n                <line\n                  x1=\"14\"\n                  y1=\"20\"\n                  x2=\"34\"\n                  y2=\"20\"\n                  stroke=\"#ffffff\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                />\n                <line\n                  x1=\"14\"\n                  y1=\"26\"\n                  x2=\"28\"\n                  y2=\"26\"\n                  stroke=\"#ffffff\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                />\n              </svg>\n            </div>\n            <div className=\"logo-text\">\n              <div className=\"logo-title\">SAFE</div>\n              <div className=\"logo-subtitle\">\n                Smart Age-Friendliness Evaluation Platform\n              </div>\n              <div className=\"logo-lab\">\n                Future Cities and Assistive Technology Lab\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"header-right\">\n          <div className=\"info-panel\">\n            <div className=\"info-item\">\n              <span className=\"info-label\">Respondent:</span>\n              <span className=\"info-value\">\n                {meta?.respondentName || 'N/A'}\n              </span>\n            </div>\n            <div className=\"info-item\">\n              <span className=\"info-label\">Organization:</span>\n              <span className=\"info-value\">{meta?.organisation || 'N/A'}</span>\n            </div>\n            <div className=\"info-item\">\n              <span className=\"info-label\">Location:</span>\n              <span className=\"info-value\">\n                {[meta?.city, meta?.borough, meta?.ward]\n                  .filter(Boolean)\n                  .join(', ') || 'N/A'}\n              </span>\n            </div>\n            <div className=\"info-item created\">\n              <span className=\"info-label\">Created:</span>\n              <span className=\"info-value\">\n                {formatDate(meta?.createdAt)}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"dashboard-content\">\n        <div className=\"assessment-dashboard-main\">\n          <div className=\"bg-white rounded-xl p-6 mb-5 shadow-lg\">\n            <h2 className=\"text-purple-600 text-3xl font-bold mb-5\">\n              üìä SAFE Assessment Dashboard\n            </h2>\n            <p className=\"mt-3\">\n              <strong>Assessment Date:</strong> {formatDate(meta?.createdAt)}\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8\">\n            <div className=\"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\">\n              <div className=\"text-lg opacity-90 mb-2\">Overall Score</div>\n              <div className=\"text-5xl font-bold mb-2\">\n                {scores.overall.toFixed(2)}/5\n              </div>\n              <div className=\"text-lg opacity-90 mb-2\">\n                {((scores.overall / 5) * 100).toFixed(1)}%\n              </div>\n              <span\n                className={`performance-badge ${performanceCategory.class} inline-block px-4 py-2 rounded-full text-sm font-semibold`}\n              >\n                {performanceCategory.name}\n              </span>\n            </div>\n\n            <div className=\"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\">\n              <div className=\"text-lg opacity-90 mb-2\">Metrics Assessed</div>\n              <div className=\"text-5xl font-bold mb-2\">{nonZeroMetrics}</div>\n              <div className=\"text-lg opacity-90\">with non-zero weightage</div>\n            </div>\n\n            <div className=\"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\">\n              <div className=\"text-lg opacity-90 mb-2\">Critical Issues</div>\n              <div className=\"text-5xl font-bold mb-2\">\n                {criticalMetrics.length}\n              </div>\n              <div className=\"text-lg opacity-90\">\n                A-priority metrics need attention\n              </div>\n            </div>\n\n            <div className=\"bg-gradient-to-r from-purple-600 to-blue-500 text-white p-6 rounded-xl shadow-lg\">\n              <div className=\"text-lg opacity-90 mb-2\">Completion Status</div>\n              <div className=\"text-5xl font-bold mb-2\">\n                {completionPercent}%\n              </div>\n              <div className=\"text-lg opacity-90\">Assessment progress</div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-xl p-6 mb-5 shadow-lg\">\n            <h3 className=\"text-2xl font-bold mb-5\">\n              üèÜ Top Performing Dimensions\n            </h3>\n            {top3Dims.map((dim, i) => (\n              <div key={dim.name} className=\"mb-4\">\n                <strong className=\"text-lg\">\n                  {i + 1}. {dim.name}\n                </strong>\n                <div className=\"h-5 bg-gray-200 rounded-full overflow-hidden mt-2 shadow-inner\">\n                  <div\n                    className=\"progress-fill h-full flex items-center justify-center text-white text-sm\"\n                    style={{ width: `${(dim.score / 5) * 100}%` }}\n                  >\n                    {dim.score.toFixed(2)} / 5\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"bg-white rounded-xl p-6 mb-5 shadow-lg\">\n            <h3 className=\"text-2xl font-bold mb-5\">\n              ‚ö†Ô∏è Areas Needing Improvement\n            </h3>\n            {bottom3Dims.map((dim, i) => (\n              <div key={dim.name} className=\"mb-4\">\n                <strong className=\"text-lg\">\n                  {i + 1}. {dim.name}\n                </strong>\n                <div className=\"h-5 bg-gray-200 rounded-full overflow-hidden mt-2 shadow-inner\">\n                  <div\n                    className=\"h-full flex items-center justify-center text-white text-sm bg-gradient-to-r from-red-400 to-red-600\"\n                    style={{ width: `${(dim.score / 5) * 100}%` }}\n                  >\n                    {dim.score.toFixed(2)} / 5\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"bg-white rounded-xl p-6 mb-5 shadow-lg\">\n            <h3 className=\"text-2xl font-bold mb-5\">\n              üî¥ Critical A-Priority Metrics (Bottom 10%)\n            </h3>\n            <p className=\"mb-5 text-lg\">\n              These essential metrics require immediate attention:\n            </p>\n            {criticalMetrics.slice(0, 10).map((metric) => (\n              <div\n                key={metric.key}\n                className=\"bg-gradient-to-r from-purple-50 to-transparent border-l-4 border-teal-400 p-5 mb-4 rounded-lg\"\n              >\n                <h4 className=\"text-purple-600 font-semibold text-lg mb-2\">\n                  {metric.name}\n                </h4>\n                <p className=\"mb-1\">\n                  <strong>Current Rating:</strong> {metric.score}/5\n                </p>\n                <p>\n                  <strong>Status:</strong>{' '}\n                  <span className=\"performance-badge badge-critical inline-block px-3 py-1 rounded-full text-sm font-semibold\">\n                    Critical\n                  </span>\n                </p>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"bg-white rounded-xl p-6 mb-5 shadow-lg\">\n            <h3 className=\"text-2xl font-bold mb-5\">üìà Dimension Breakdown</h3>\n            <div className=\"chart-container\">\n              <canvas ref={chartRef} />\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-xl p-6 mb-5 shadow-lg\">\n            <h3 className=\"text-2xl font-bold mb-5\">üí° Key Insights</h3>\n            {insights.map((insight) => (\n              <div\n                key={insight.title}\n                className=\"bg-gradient-to-r from-purple-50 to-transparent border-l-4 border-teal-400 p-5 mb-4 rounded-lg\"\n              >\n                <h4 className=\"text-purple-600 font-semibold text-lg mb-2\">\n                  {insight.title}\n                </h4>\n                <p className=\"text-gray-700\">{insight.description}</p>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"assessment-dashboard-topbar\">\n            <button\n              type=\"button\"\n              className=\"btn-back-info\"\n              onClick={() => navigate('/')}\n            >\n              Back to Home\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ScoreDashboard;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}